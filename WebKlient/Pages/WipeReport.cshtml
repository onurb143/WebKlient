@page
@model WebKlient.Pages.WipeReportModel
@{
    ViewData["Title"] = "Sletterapporter";
}

<h1>Sletterapporter</h1>

@if (Model.WipeReports == null || !Model.WipeReports.Any())
{
    <p>Hent en JWT for at få adgang til ressourcen</p>

}
else
{
    <table class="table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Starttid</th>
                <th>Sluttid</th>
                <th>Status</th>
                <th>Disk Type</th>
                <th>Kapacitet</th>
                <th>Serienummer</th>
                <th>Producent</th>
                <th>Slettemetode</th>
                <th>Overskrivninger</th>
                <th>Udført af</th>
                <th>Vælg</th> <!-- Ny kolonne til handlinger -->
            </tr>
        </thead>
        <tbody>
            @foreach (var report in Model.WipeReports)
            {
                <tr>
                    <td>@report.WipeJobId</td>
                    <td>@report.StartTime</td>
                    <td>@report.EndTime</td>
                    <td>@report.Status</td>
                    <td>@report.DiskType</td>
                    <td>@report.Capacity</td>
                    <td>@report.SerialNumber</td>
                    <td>@report.Manufacturer</td>
                    <td>@report.WipeMethodName</td>
                    <td>@report.OverwritePasses</td>
                    <td>@report.PerformedBy</td>
                    <td>
                        <!-- Form til at slette rapporten -->
                        <form method="post" asp-page-handler="Delete" asp-route-id="@report.WipeJobId">
                            <button type="submit" class="btn btn-danger" onclick="return confirm('Er du sikker på, at du vil slette denne rapport?')">Slet</button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}